# Server Configuration
server.port=${PORT:8080}

# Database Configuration (Production)
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.datasource.hikari.maximum-pool-size=${DB_MAX_POOL_SIZE:20}
spring.datasource.hikari.minimum-idle=${DB_MIN_IDLE:5}
spring.datasource.hikari.connection-timeout=${DB_CONNECTION_TIMEOUT_MS:30000}
spring.datasource.hikari.idle-timeout=${DB_IDLE_TIMEOUT_MS:600000}
spring.datasource.hikari.max-lifetime=${DB_MAX_LIFETIME_MS:1800000}
spring.datasource.hikari.leak-detection-threshold=${DB_LEAK_DETECTION_MS:0}
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
# Disable SQL script initialization in production to avoid unintended data changes.
spring.sql.init.mode=never

# Logging Configuration
logging.level.org.springframework=WARN
logging.level.com.wing.ecommercebackendwing=INFO

# CORS Configuration
cors.allowed-origins=${CORS_ALLOWED_ORIGINS}

# Frontend URL
app.frontend.url=${APP_FRONTEND_URL}
app.public-base-url=${APP_PUBLIC_BASE_URL}
app.upload-dir=${APP_UPLOAD_DIR:uploads}

# Bakong & KHQR Configuration (Production)
khqr.api-base-url=${KHQR_API_BASE_URL}
khqr.api-token=${BAKONG_API_TOKEN}
khqr.merchant.bakong-id=${KHQR_MERCHANT_BAKONG_ID}
khqr.merchant.id=${KHQR_MERCHANT_ID}
khqr.merchant.name=${KHQR_MERCHANT_NAME}
khqr.merchant.acquiring-bank=${KHQR_ACQUIRING_BANK}
khqr.expiration-seconds=${KHQR_EXPIRATION_SECONDS:600}

# Google OAuth2 Configuration (Production)
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET}

# JWT Configuration (Production)
jwt.secret=${JWT_SECRET}
jwt.access-token.expiration=${JWT_ACCESS_EXPIRATION:3600000}
jwt.refresh-token.expiration=${JWT_REFRESH_EXPIRATION:2592000000}

# Cookie Configuration
cookie.secure=true

spring.mail.host=${SPRING_MAIL_HOST}
spring.mail.port=${SPRING_MAIL_PORT:465}
spring.mail.username=${SPRING_MAIL_USERNAME}
spring.mail.password=${SPRING_MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=false
spring.mail.properties.mail.smtp.ssl.enable=true
spring.mail.properties.mail.smtp.socketFactory.port=${SPRING_MAIL_PORT:465}
spring.mail.properties.mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory
spring.mail.properties.mail.smtp.connectiontimeout=10000
spring.mail.properties.mail.smtp.timeout=10000
spring.mail.properties.mail.smtp.writetimeout=10000

# Endpoint rate limiting
security.rate-limit.auth.max-requests=${AUTH_RATE_LIMIT_MAX_REQUESTS:5}
security.rate-limit.auth.window-seconds=${AUTH_RATE_LIMIT_WINDOW_SECONDS:60}
security.rate-limit.payment-verify.max-requests=${PAYMENT_VERIFY_RATE_LIMIT_MAX_REQUESTS:15}
security.rate-limit.payment-verify.window-seconds=${PAYMENT_VERIFY_RATE_LIMIT_WINDOW_SECONDS:60}
